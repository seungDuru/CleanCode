# 🪥 Chapter 01 - 깨끗한 코드

> 여러분이 이 책을 읽고 있다면 이유는  두 가지다. 첫째, 프로그래머라서. 둘째, 더 나은 프로그래머가 되려고. 다행이다! 우리 업계는 더 나은 프로그래머가  필요하니까.



## 코드가 존재하리라

* 코드의 종말이 다가왔다? 자동으로 코드를 생산하며 프로그래머는 필요없다고 주장하는 사람들(?)
  * 헛소리다. 코드는 요구사항을 상세히 표현하는 수단이므로 사라질일이 없다.
  * 고도로 추상화된 언어나 특정 응용 분야 언어로 기술하는 명세 역시 코드다.
  * 코드는 요구사항을 표현하는 언어이다. 요구사항을 정밀한 표현이 필요하다. 기계로 대체가 불가하다.

## 나쁜 코드

* 나쁜코드는 한 회사를 망하게 할 정도로 영향을 끼친다.
  * 시간에 쫒겨 현재만을 위해 짠 코드
  * 지겨워서 대충 짠 코드
  * 상사에게 욕 먹을까봐 대충 만든 코드
* 구성원 모두가 대충 짠 프로그램이 돌아간다는 사실에 안도감을 느끼며 그래도 안 돌아가는 프로그램보다 낫다고 스스로를 위로한 경험이 있다. 나중에 다시 정리하겠다고 다짐하며..

> 물론 그때 그 시절 우리는 르블랑의 법칙을 몰랐다. "나중은 결코 오지 않는다."

## 나쁜 코드로 치르는 대가

* 나쁜코드는 '해독' 의 과정을 거쳐야 하므로, 팀 전체의 생산성을 저하 시킨다.

<figure><img src=".gitbook/assets/image.jpeg" alt=""><figcaption><p>CleanCode 중 그림 1.1</p></figcaption></figure>

### 원대한 재설계의 꿈

* 팀이 한계에 봉착하고, 재 설계 및 개발을 요구한다.
* 관리자는 리소스를 사용하기 싫지만 현재 나쁜코드로인한 생산성이 바닥이라 거부할 도리가 없다.
* 새로운 타이거 팀이 구성되어 새롭게 시스템을 개발하여 기존시스템 + 새시스템 을 만든다
* 기존 팀은 기존의 시스템을 유지보수한다.
* 두팀은 경주 하듯 경쟁한다.
* 타이거 팀이 기존팀의 시스템을 따라잡을 즈음에는 초장기 타이거 팀원들도 팀을 대부분 떠났고 새로운 팀원들이 새 시스템을 설계 하자고 나선다. 무한굴레...

> 시간을 들여 깨끗한 코드를 만드는 노력이 비용을 절감하는 방법일 뿐만 아니라 전문가로서 살아남는 길이라는 사실

### 태도

* 예상보다 업무기일에 차질이 생긴경우 우리는 아래와 같은 온갖 핑계를 댄다
  * 한줄만 고치면 될꺼라 생각했다가 모듈을 수백 개 건드렸다.
  * 설계와 다르게 요구사항이 변했다.
  * 일정이 촉박했다.
  * 답답한 관리자와 고객때문이다.
* 전적으로 잘못은 프로그래머에게..
  * 사용자는 우리에게 현실성을 자문하고, 우리가 일정을 잡으며, 프로젝트 계획에 우리가 깊숙히 관여한다.
  * 그들이 일정과 요구사항을 강력하게 밀어붙이는 이유는 그것이 그들의 책임이기 때문이다.

> 나쁜 코드의 위험을 이해하지 못하는 관리자 말을 그대로 따르는 행동은 전문가답지 못하다.

### 원초적 난제

* 나쁜 코드는 생산성을 감소시킨다 < - > 기한을 맞추려면 나쁜코드로 할 수 밖에 없다.

### 깨끗한 코드라는 예술

* 깨끗한 코드는 그림을 그리는 예술과 비슷하다
  * 대부분의 사람들은 잘 그렸는지 엉망으로 그렸는지 안다.

> 깨끗한 코드를 작성하는 프로그래머는 빈 캔버스를 우아한 작품으로 바꿔가는 화가와 같다.

### 깨끗한 코드란?

* _**비야네 스트롭스트룹**_** ** 이 말한 클린코드(Bjarne Stroustrup)
  * 논리가 간단해야 버그가 숨어 들지 못한다.
  * 의존성을 최대한 줄여야 유지보수가 용이하다.
  * 오류는 명백한 전략에 의거해 철저히 처리한다.
  * 성능을 최적으로 유지해야 사람들이 원칙 없는 최적화로 코드를 망치려는 유혹에 빠지지 않는다.
  * 클린 코드는 한 가지를 제대로 한다.\

* _**그래디 부치**_ 가 말한 클린코드(Grady Booch)
  * 클린코드는 단순하고 직접적이다.
  * 클린코드는 잘 쓴 문장처럼 읽힌다.
  * 클린코드는 결코 설계자의 의도를 숨기지 않는다. 오히려 명쾌한 추상화와 단순한 제어문으로 가득하다.\

*   '_**큰' 데이브 토마스**_ 가 말한 클린코드(Dave Thomas)

    * 클린코드는 작성자가 아닌 사람도 읽기 쉽고 고치기 쉽다.
    * 단위 테스트와 인수 테스트가 존재한다.
    * 의미 있는 이름이 붙는다.
    * 특정 목적을 달성하는 방법은 하나만 제공한다.
    * 의존성은 최소이며 각 의존성을 명확히 정의한다.
    * API는 명확하여 최소로 줄였다.
    * 언어에 따라 필요한 모든 정보를 코드만으로 명확히 표현할 수 없기에 코드는 문학적으로 표현해야 한다.


* _**마이클 페더스**_ 가 말한 클린코드(Michael Feathers)
  * 클린 코드의 모든것을 아우르는 특징은 '누군가 주의 깊게 짰다는 느낌을 준다' 고치려고 살펴봐도 딱히 손 댈곳이 없다.\

* _**켄트 벡**_ 이 말한 클린코드
  * 모든 테스트를 통과한다.
  * 중복이 없다.
  * 시스템 내 모든 설계 아이디어를 표현한다.
  * 클래스, 메서드, 함수 등을 최대한 줄인다.

### 우리는 저자다

```
밥이 모듈을 입력한다.
변경할 함수로 스크롤해 내려간다.
잠시 멈추고 생각한다.
이런! 모듈 상단으로 스크롤해 변수 초기화를 확인한다.
다시 내려와 입력하기 시작한다.
이런, 입력을 지운다!
다시 입력한다.
다시 지운다!
뭔가를 절반쯤 입력하다가 또 지운다!
지금 바꾸려는 함수를 호출하는 함수로 스크롤한 후 함수가 호출되는 방식을 살펴본다.
다시 돌아와 방금 지운 코드를 입력한다.
잠시 멈춘다.
코드를 다시 지운다!
다른 윈도를 열어 하위 클래스를 살핀다. 함수가 재정의 되었는가?
...
```

* 코드를 읽는 시간 대 코드를 짜는 시간 비율이 10 : 1 을 훌쩍 넘는다. 새 코드를 짜면서 끊임없이 기존 코드를 읽는다.
* 그러므로 급하다면, 서둘러 끝내려면, 쉽게짜려면, 읽기 쉽게 만들면 된다.

### 보이스카우트 규칙

잘 짠코드가 전부는 아니다. 시간이 지나도 언제나 깨끗하게 유지해야 한다.

> 보이스카우트 규칙
>
> : 캠프장을 처음 왔을 때 보다 더 깨끗하게 해놓고 떠나라.

### 결론

* 이 책을 읽는다고 뛰어난 프로그래머가 된다는 보장은 없다.
* '코드감각'을 얻는 다는 보장도 없다.
* 단지 뛰어난 프로그래머가 생각하는 방식과 그들이 사용하는 기술과 기교와 도구를 소개할 뿐이다.

> 공연장으로 가다가 길을 잃은 연주회의 바이올리니스트에 대한 우스개 소리를 기억하는가?
>
> 그는 길거리에서 한 노인에게 카네기 홀로 가는 방법을 물었다.
>
> 노인은 연주가와 그가 든 바이올린을 보고 이렇게 말했다.
>
> "연습해, 연습!"
